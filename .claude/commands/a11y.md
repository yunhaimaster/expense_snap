---
name: a11y
description: 無障礙審計 - Semantics、對比度、觸控目標、螢幕閱讀器
args: [path]
---

# /a11y - 無障礙審計

針對 Flutter Widget 進行無障礙合規檢查。

## 檢查項目

### 1. Semantics 語意標籤
- [ ] 所有互動元素有 Semantics 描述
- [ ] 圖片有替代文字 (semanticLabel)
- [ ] 裝飾性元素使用 excludeSemantics
- [ ] 按鈕有 tooltip
- [ ] 表單欄位有 label

### 2. 顏色對比度
- [ ] 文字對比 >= 4.5:1 (WCAG AA)
- [ ] 大字文字對比 >= 3:1
- [ ] 不僅依賴顏色傳達資訊
- [ ] Focus 狀態清晰可見

### 3. 觸控目標
- [ ] 所有可點擊區域 >= 48x48 dp
- [ ] 間距足夠避免誤觸
- [ ] GestureDetector 有足夠範圍

### 4. 動態字體
- [ ] 支援系統字體縮放 (1.0x - 2.0x)
- [ ] 無文字溢出
- [ ] 使用 maxLines + overflow

### 5. 動畫
- [ ] 偵測 reduceMotion 設定
- [ ] 提供停用動畫選項
- [ ] 無快速閃爍 (< 3Hz)

### 6. 螢幕閱讀器
- [ ] 邏輯的焦點順序
- [ ] 清晰的區塊標題
- [ ] 動態內容有 live region

## 執行方式

1. **掃描程式碼**
   - 檢查 Semantics 使用
   - 檢查顏色定義

2. **靜態分析**
   ```bash
   flutter analyze
   ```

3. **生成報告**
   - 列出所有問題
   - 按嚴重度分類
   - 提供修復建議

## 輸出格式

```
## Accessibility Audit Report

### 🔴 Critical
- 缺少 Semantics: expense_card.dart:45 (IconButton)
- 對比度不足: app_colors.dart textHint (#999 on #FFF = 2.8:1)

### 🟡 Warning
- 觸控目標過小: currency_dropdown.dart:23 (36x36)
- 缺少 tooltip: add_expense_screen.dart:89 (FloatingActionButton)

### ✅ Passed
- 12 widgets 有完整 Semantics
- 主要文字對比度合格
```
